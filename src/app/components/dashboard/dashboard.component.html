<ng-container
  *ngIf="{ connectionState: connectionState$ | async, localState: localState$ | async } as params"
>
  <app-header
    [connected]="params.connectionState.userConnected"
    (connectWallet)="onConnectWallet()"
    class="mb-auto"
  ></app-header>
  <main class="pt-3 pb-3">
    <app-notification id="main"></app-notification>
    <div class="container">
      <div class="dashboard row fs-5 mb-3" *ngIf="params.connectionState.userConnected">
        <p class="col m-0">
          You participated in {{ params.connectionState.userPools?.length || 0 }} pools
        </p>
        <div
          class="d-flex align-items-center col justify-content-end"
          *ngIf="!params.localState.showCreatingForm"
        >
          <p class="m-0">You can create new pool</p>
          <button class="btn btn-danger ms-3 fs-5" (click)="showCreatingForm()">Add</button>
        </div>
      </div>
      <app-new-pool
        *ngIf="params.localState.showCreatingForm"
        (closeForm)="onCloseNewForm()"
        (saveForm)="onSaveNewForm($event)"
      ></app-new-pool>
      <app-pool-item *ngFor="let pool of params.connectionState.userPools"></app-pool-item>
    </div>
  </main>
</ng-container>
